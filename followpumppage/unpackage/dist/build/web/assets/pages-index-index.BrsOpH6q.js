import{s as e,r as t,h as s,a as l,b as a,c as o,d as i,e as d,w as n,f as c,g as r,F as u,i as p,o as f,j as h,t as m,k,l as _,m as C,n as y,p as g,I as b,S as w,q as x,u as A,v,x as T,y as F}from"./index-BWH2MAMr.js";const I=((e,t)=>{const s=e.__vccOpts||e;for(const[l,a]of t)s[l]=a;return s})({data:()=>({addressTypes:["user","robot"],addressTypesCnssss:["聪明钱","机器人"],addressTypesCn:{user:"聪明钱",robot:"机器人"},isPlay:!1,dataList:[],vbsearch:"",panelInfo:{status:!1,curr_balance:0,total_income:0,user:"",jito_fee:0,slip:0,curr_percent:0,max_buy_count:0},form:{name:"",note:"",type:"",enabled:!0,address:""},showModal:!1,editingAddress:null,showDialog:!1,maxId:0,Host:"http://followapi.pumpfind.homes",walletAddresses:[],oldWalletAddresssed:[],tbTime:0,isFirstLoad:!0,showTb:0}),onLoad(){setTimeout((()=>{this.updateInfo()}),10)},methods:{closeModal(){this.showModal=!1},addressClick(){e({title:"加载中",mask:!0}),t({url:this.Host+"/api/v1/test/address",method:"POST",success:e=>{this.walletAddresses=e.data.data.reverse(),this.oldWalletAddresssed=this.walletAddresses.concat([]),s()}}),this.showDialog=!0},openAddAddressModal(){this.editingAddress=null,this.form={name:"",type:"",note:"",enabled:!1,address:""},this.showModal=!0},saveAddress(){if(console.log(this.form),this.form.note&&this.form.type&&this.form.address){if(null!==this.editingAddress)this.walletAddresses[this.editingAddress]={...this.form,id:this.walletAddresses[this.editingAddress].id},console.log(this.form),t({url:this.Host+"/api/v1/test/change_address",method:"POST",header:{"content-type":"application/json"},data:this.walletAddresses[this.editingAddress],success:e=>{this.walletAddresses=e.data.data.reverse(),this.oldWalletAddresssed=this.walletAddresses.concat([])}});else{const e={...this.form};t({url:this.Host+"/api/v1/test/add_address",method:"POST",header:{"content-type":"application/json"},data:e,success:e=>{1!=e.data.code?l({title:e.data.msg}):(this.walletAddresses=e.data.data.reverse(),this.oldWalletAddresssed=this.walletAddresses.concat([]))}})}this.closeModal()}else l({title:"请填写所有字段",icon:"none"})},onAddressTypeChange(e){console.log("选择器改变",e),this.addressTypeIndex=e.detail.value,this.form.type=this.addressTypes[this.addressTypeIndex]},deleteAddress(e){a({title:"确认删除",content:"确定删除这个地址吗？",success:s=>{s.confirm&&t({url:this.Host+"/api/v1/test/delete_address",method:"POST",data:this.walletAddresses[e],success:e=>{this.walletAddresses=e.data.data.reverse(),this.oldWalletAddresssed=this.walletAddresses.concat([])}})}})},editAddress(e){this.editingAddress=e;const t=this.walletAddresses[e];this.form={...t},this.showModal=!0},onCheckChange(e){this.form.enabled=e.detail.value.length>0},searchAddress(){if(0!=this.vbsearch.trim().length){var e=[];for(var t in this.oldWalletAddresssed)(this.oldWalletAddresssed[t].address.includes(this.vbsearch)||this.oldWalletAddresssed[t].note.includes(this.vbsearch))&&e.push(this.oldWalletAddresssed[t]);this.walletAddresses=e}else l({title:"请输入内容"})},resetSearch(){this.vbsearch="",this.walletAddresses=this.oldWalletAddresssed.concat([])},closeDialog(){this.showDialog=!1},getPanelInfo(){var e="关闭";this.panelInfo.status&&(e="开启");var t="";return t=this.panelInfo.total_income>=0?"+"+parseFloat(this.panelInfo.total_income).toFixed(4):parseFloat(this.panelInfo.total_income).toFixed(4)+""," 跟单机器人: "+e+" 用户:  "+this.panelInfo.user+"  当前跟单比例: "+parseFloat(this.panelInfo.curr_percent).toFixed(4)+"  当前购买上限: "+parseFloat(this.panelInfo.max_buy_count).toFixed(4)+"  当前手续费: "+parseFloat(this.panelInfo.jito_fee).toFixed(6)+"  当前跟单滑点: "+parseFloat(this.panelInfo.slip).toFixed(6)+"  总余额: "+parseFloat(this.panelInfo.curr_balance).toFixed(4)+" SOL   总盈亏: "+t+" SOL"},onCheckChange2(e){this.isPlay=e.detail.value.length>0},sellClick(a){e({title:"卖出中",mask:!0}),t({url:this.Host+"/api/v1/test/sell?token="+a,method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"}),s()},fail:()=>{s(),l({title:"请求失败"})}})},allSellClick(){e({title:"卖出中",mask:!0}),t({url:this.Host+"/api/v1/test/all_token_sell",method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"}),s()},fail:()=>{s(),l({title:"请求失败"})}})},startBuyClick(){t({url:this.Host+"/api/v1/test/start",method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"})},fail:()=>{l({title:"请求失败"})}})},stopBuyClick(){t({url:this.Host+"/api/v1/test/stop",method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"})},fail:()=>{l({title:"请求失败"})}})},setPriClick(){a({title:"设置购买私钥",editable:!0,content:"",success:e=>{e.confirm&&t({url:this.Host+"/api/v1/test/set_pri?pri="+e.content,method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"})},fail:()=>{l({title:"请求失败"})}})}})},setSlipCountClick(){a({title:"设置跟单滑点",editable:!0,content:this.panelInfo.slip,success:e=>{e.confirm&&t({url:this.Host+"/api/v1/test/set_slip?count="+e.content,method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"})},fail:()=>{l({title:"请求失败"})}})}})},setFeeCountClick(){a({title:"设置JITO手续费（SOL)",editable:!0,content:this.panelInfo.jito_fee,success:e=>{e.confirm&&t({url:this.Host+"/api/v1/test/set_fee?count="+e.content,method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"})},fail:()=>{l({title:"请求失败"})}})}})},setMaxCountClick(){a({title:"设置购买上限（SOL)",editable:!0,content:this.panelInfo.max_buy_count,success:e=>{e.confirm&&t({url:this.Host+"/api/v1/test/set_max_count?count="+e.content,method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"})},fail:()=>{l({title:"请求失败"})}})}})},setCountClick(){a({title:"设置购买比例",editable:!0,content:this.panelInfo.curr_percent,success:e=>{e.confirm&&t({url:this.Host+"/api/v1/test/set_percent?percent="+e.content,method:"GET",success:e=>{1==e.data.code?l({title:"请求成功"}):l({title:"请求失败"})},fail:()=>{l({title:"请求失败"})}})}})},isShow(e){return 0==parseFloat(this.showTb)||(new Date).getTime()/1e3-e.trans.time>=3600*parseFloat(this.showTb)},setTbTime(e){0==e&&(this.tbTime=0),this.showTb=e},updateInfo(){t({url:this.Host+"/api/v1/test/info",method:"GET",success:e=>{e.data.data&&(this.isFirstLoad=!1,e.data.data.list?this.dataList=e.data.data.list.reverse():this.dataList=[],this.panelInfo=e.data.data),setTimeout((()=>{this.updateInfo()}),500)},fail:()=>{setTimeout((()=>{this.updateInfo()}),500)}})},computedStyles2:e=>0!=e.ten_token_counts&e.ten_token_un_counts/e.ten_token_counts>.5?{color:"red"}:{color:"black"},computedStyles:e=>({backgroundColor:"#16ffdf"}),lookTokenClick(e){window.open("https://pump.fun/profile/"+e)},clearClick(){this.dataList=[]},getFomatTimeLast:function(e){if(e<=0)return"未知";var t=Math.round(new Date/1e3)-e,s=t>0?"前":"后";t=Math.abs(t);for(var l=["年","个月","星期","天","小时","分钟","秒"],a=[31536e3,2592e3,604800,86400,3600,60,1],o=0;o<7;o++){var i=Math.floor(t/a[o]);if(0!=i)return i+l[o]+s}},TokenClick:function(e){window.open("https://pro.xxyy.io/sol/"+e)},copyClick:function(e){o({data:e}),l({title:"复制成功"})},dealFrom:function(e){return"0"==e.trans.from.length?"未知":e.memo.length>0?e.memo:e.trans.from},dealBlackFrom:function(e){return"0"==e.black_address.length?"未知":e.black_memo.length>0?e.black_memo:e.black_address},dealSuFrom:function(e){return 0==e.su_address.length?"未知":e.su_memo.length>0?e.su_memo:e.su_address},OwnerClick:function(e){console.log(e),window.open("https://gmgn.ai/sol/address/"+e)},HashClick:function(e){console.log(e),window.open("https://solscan.io/tx/"+e)},PumpClick:function(e){console.log(e),window.open("https://pump.fun/coin/"+e)},GmgnClick:function(e){console.log(e),window.open("https://gmgn.ai/sol/token/"+e)},ClickNormal:function(e){console.log(e),window.open(e)},formatDateTime(e,t){const s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds(),a:e.getHours()<12?"上午":"下午",A:e.getHours()<12?"AM":"PM"};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(let l in s)new RegExp("("+l+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?s[l]:("00"+s[l]).substr((""+s[l]).length)));return t}}},[["render",function(e,t,s,l,a,o){const I=p,H=C,M=y,S=F,B=g,E=b,L=w,O=x,z=A,D=v;return f(),i(u,null,[d(I,{class:"toptt"},{default:n((()=>[h("pumpfunc跟单系统")])),_:1}),d(I,{class:"toptt2"},{default:n((()=>[h(m(o.getPanelInfo()),1)])),_:1}),d(I,{class:"topBt"},{default:n((()=>[d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[0]||(t[0]=e=>o.startBuyClick())},{default:n((()=>[h("开始跟单")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[1]||(t[1]=e=>o.stopBuyClick())},{default:n((()=>[h("停止跟单")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[2]||(t[2]=e=>o.addressClick())},{default:n((()=>[h("地址管理")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[3]||(t[3]=e=>o.setCountClick())},{default:n((()=>[h("设置比例")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[4]||(t[4]=e=>o.setSlipCountClick())},{default:n((()=>[h("设置滑点")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[5]||(t[5]=e=>o.setFeeCountClick())},{default:n((()=>[h("设置费用")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[6]||(t[6]=e=>o.setMaxCountClick())},{default:n((()=>[h("设置上限")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[7]||(t[7]=e=>o.setPriClick())},{default:n((()=>[h("设置私钥")])),_:1}),d(H,{type:"primary",class:"opBt",size:"mini",onClick:t[8]||(t[8]=e=>o.allSellClick())},{default:n((()=>[h("全部卖出")])),_:1})])),_:1}),d(I,{class:"container-parent"},{default:n((()=>[d(I,{class:"container"},{default:n((()=>[(f(!0),i(u,null,k(a.dataList,((e,t)=>(f(),c(I,{key:t,style:{margin:"auto"}},{default:n((()=>[o.isShow(e)?(f(),c(I,{key:0,class:"item-card"},{default:n((()=>[d(I,{class:"item-header",style:T(o.computedStyles(e))},{default:n((()=>[d(I,{class:"head_title"},{default:n((()=>[d(M,{class:"abbreviation",onClick:t=>o.PumpClick(e.token)},{default:n((()=>[h(m(e.symbol),1)])),_:2},1032,["onClick"]),d(M,{class:"time",style:{color:"darkblue"}},{default:n((()=>[h(m(o.getFomatTimeLast(e.time)),1)])),_:2},1024),d(M,{class:"time",style:{color:"blueviolet"}},{default:n((()=>[h(m(o.formatDateTime(new Date(1e3*e.push_time),"yyyy年MM月dd日 HH:mm:ss")),1)])),_:2},1024)])),_:2},1024),d(I,null,{default:n((()=>[d(M,{style:{"font-size":"30px",color:"red","font-weight":"bold"}},{default:n((()=>[h(m("buy"==e.op_type?"买入":"卖出"),1)])),_:2},1024)])),_:2},1024),d(S,{class:"head_image",src:e.image,onClick:t=>o.GmgnClick(e.token)},null,8,["src","onClick"])])),_:2},1032,["style"]),d(I,{class:"item-body"},{default:n((()=>["buy"==e.op_type?(f(),c(M,{key:0,class:"inno-text"},{default:n((()=>[h(" 购买数量:"),d(M,{class:"token-nomarl"},{default:n((()=>[h(m(parseFloat(e.sol_count).toFixed(6)+" SOL"),1)])),_:2},1024)])),_:2},1024)):r("",!0),"sell"==e.op_type?(f(),c(M,{key:1,class:"inno-text"},{default:n((()=>[h(" 卖出数量:"),d(M,{class:"token-nomarl"},{default:n((()=>[h(m(parseFloat(e.token_count).toFixed(6)+" "+e.symbol),1)])),_:2},1024)])),_:2},1024)):r("",!0),"buy"==e.op_type?(f(),c(M,{key:2,class:"inno-text"},{default:n((()=>[h(" 购买市值:"),d(M,{class:"token-nomarl"},{default:n((()=>[h("$"+m(e.market),1)])),_:2},1024)])),_:2},1024)):r("",!0),"sell"==e.op_type?(f(),c(M,{key:3,class:"inno-text"},{default:n((()=>[h(" 卖出市值:"),d(M,{class:"token-nomarl"},{default:n((()=>[h("$"+m(e.market),1)])),_:2},1024)])),_:2},1024)):r("",!0),d(M,{class:"inno-text"},{default:n((()=>[h(" 当前市值:"),d(M,{class:"token-nomarl"},{default:n((()=>[h("$"+m(parseInt(e.curr_market)),1)])),_:2},1024)])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 名字:"),d(M,{class:"token-nomarl"},{default:n((()=>[h(m(e.name),1)])),_:2},1024)])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 代币:"),d(M,{class:"token",onClick:t=>o.TokenClick(e.token)},{default:n((()=>[h(m(e.token),1)])),_:2},1032,["onClick"]),d(M,{class:"token",onClick:t=>o.copyClick(e.token)},{default:n((()=>[h("复制")])),_:2},1032,["onClick"])])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 操作钱包:"),d(M,{class:"token",onClick:t=>o.OwnerClick(e.user)},{default:n((()=>[h(m(e.user),1)])),_:2},1032,["onClick"]),d(M,{class:"token",onClick:t=>o.copyClick(e.user)},{default:n((()=>[h("复制")])),_:2},1032,["onClick"])])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 跟单钱包:"),d(M,{class:"token",onClick:t=>o.OwnerClick(e.follow)},{default:n((()=>[h(m(e.follow),1)])),_:2},1032,["onClick"]),d(M,{class:"token",onClick:t=>o.copyClick(e.follow)},{default:n((()=>[h("复制")])),_:2},1032,["onClick"])])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 交易哈希:"),d(M,{class:"token",onClick:t=>o.HashClick(e.hash)},{default:n((()=>[h(m(e.hash.substring(0,40)+"......"),1)])),_:2},1032,["onClick"]),d(M,{class:"token",onClick:t=>o.copyClick(e.hash)},{default:n((()=>[h("复制")])),_:2},1032,["onClick"])])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 推特:"),d(M,{class:"token",onClick:t=>o.ClickNormal(e.twitter)},{default:n((()=>[h(m(e.twitter),1)])),_:2},1032,["onClick"])])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 电报:"),d(M,{class:"token",onClick:t=>o.ClickNormal(e.telegram)},{default:n((()=>[h(m(e.telegram),1)])),_:2},1032,["onClick"])])),_:2},1024),d(M,{class:"inno-text"},{default:n((()=>[h(" 网站:"),d(M,{class:"token",onClick:t=>o.ClickNormal(e.website)},{default:n((()=>[h(m(e.website),1)])),_:2},1032,["onClick"])])),_:2},1024),d(I,{style:{"margin-top":"10px"}},{default:n((()=>[d(H,{type:"primary",class:"opBt",size:"mini",style:{margin:"0px"},onClick:t=>o.sellClick(e.token)},{default:n((()=>[h("卖出")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)):r("",!0)])),_:2},1024)))),128))])),_:1})])),_:1}),a.showDialog?(f(),c(I,{key:0,class:"mask",onClick:o.closeDialog},{default:n((()=>[d(I,{class:"dialog",onClick:t[14]||(t[14]=_((()=>{}),["stop"]))},{default:n((()=>[d(I,{class:"dialog-header"},{default:n((()=>[d(M,null,{default:n((()=>[h("地址管理")])),_:1}),d(I,{class:"tibicview"},{default:n((()=>[d(B,null,{default:n((()=>[h("钱包地址或者备注:")])),_:1}),h(),d(E,{class:"tibicviewinput",style:{width:"400px"},placeholder:"",modelValue:a.vbsearch,"onUpdate:modelValue":t[9]||(t[9]=e=>a.vbsearch=e)},null,8,["modelValue"]),d(H,{type:"primary",size:"mini",style:{"margin-left":"10px"},onClick:t[10]||(t[10]=e=>o.searchAddress())},{default:n((()=>[h("搜索")])),_:1}),d(H,{type:"primary",size:"mini",style:{"margin-left":"10px"},onClick:t[11]||(t[11]=e=>o.resetSearch())},{default:n((()=>[h("重置")])),_:1})])),_:1}),d(H,{class:"close-btn",onClick:o.closeDialog},{default:n((()=>[h("×")])),_:1},8,["onClick"])])),_:1}),d(I,{class:"dialog-body"},{default:n((()=>[d(I,{class:"popcontainer"},{default:n((()=>[d(L,{class:"address-list","scroll-y":"true"},{default:n((()=>[(f(!0),i(u,null,k(a.walletAddresses.slice(0,200),((e,t)=>(f(),c(I,{key:e.id,class:"address-item"},{default:n((()=>[d(I,{class:"address-info"},{default:n((()=>[d(I,{class:"address-name"},{default:n((()=>[h(m(e.note),1)])),_:2},1024),d(I,{class:"address",style:{"text-decoration":"underline"},onClick:t=>o.OwnerClick(e.address)},{default:n((()=>[h(m(e.address),1)])),_:2},1032,["onClick"]),d(I,{class:"address"},{default:n((()=>[h(m(a.addressTypesCn[e.type]),1)])),_:2},1024),e.enabled?(f(),c(I,{key:0,class:"blacklist-label"},{default:n((()=>[h("启用")])),_:1})):r("",!0)])),_:2},1024),d(I,{class:"address-actions"},{default:n((()=>[d(H,{onClick:e=>o.editAddress(t),class:"action-button"},{default:n((()=>[h("编辑")])),_:2},1032,["onClick"]),d(H,{onClick:e=>o.deleteAddress(t),class:"action-button delete-button"},{default:n((()=>[h("删除")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),d(H,{onClick:o.openAddAddressModal,class:"add-button"},{default:n((()=>[h("添加地址")])),_:1},8,["onClick"]),a.showModal?(f(),c(I,{key:0,class:"modal"},{default:n((()=>[d(I,{class:"modal-content"},{default:n((()=>[d(I,{class:"modal-header"},{default:n((()=>[d(M,{class:"modal-title"},{default:n((()=>[h(m(a.editingAddress?"编辑地址":"添加地址"),1)])),_:1})])),_:1}),d(I,{class:"modal-body"},{default:n((()=>[d(E,{modelValue:a.form.note,"onUpdate:modelValue":t[12]||(t[12]=e=>a.form.note=e),class:"input-field",placeholder:"请输入地址备注"},null,8,["modelValue"]),d(O,{mode:"selector",range:a.addressTypesCnssss,value:e.addressTypeIndex,onChange:o.onAddressTypeChange},{default:n((()=>[d(I,{class:"picker"},{default:n((()=>[d(M,null,{default:n((()=>[h(m(a.addressTypesCn[a.form.type]||"请选择地址类型"),1)])),_:1})])),_:1})])),_:1},8,["range","value","onChange"]),d(E,{modelValue:a.form.address,"onUpdate:modelValue":t[13]||(t[13]=e=>a.form.address=e),class:"input-field",placeholder:"请输入钱包地址"},null,8,["modelValue"]),d(D,{onChange:o.onCheckChange},{default:n((()=>[d(z,{checked:a.form.enabled,class:"checkbox"},{default:n((()=>[h("启用")])),_:1},8,["checked"])])),_:1},8,["onChange"])])),_:1}),d(I,{class:"modal-footer"},{default:n((()=>[d(H,{onClick:o.saveAddress,class:"save-button"},{default:n((()=>[h("保存")])),_:1},8,["onClick"]),d(H,{onClick:o.closeModal,class:"cancel-button"},{default:n((()=>[h("取消")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):r("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):r("",!0)],64)}],["__scopeId","data-v-9ebeb020"]]);export{I as default};
