import{r as e,s,a as t,b as a,c as l,d as o,w as d,e as i,f as n,F as c,i as r,o as u,g as f,h as m,t as h,j as k,k as p,l as _,I as C,m as w,S as g,n as y,p as b,q as T,u as A,v}from"./index-C5fX3bXQ.js";const x=((e,s)=>{const t=e.__vccOpts||e;for(const[a,l]of s)t[a]=l;return t})({data:()=>({addressTypes:["exchange","user"],addressTypesCnssss:["交易所","普通钱包"],addressTypesCn:{exchange:"交易所",user:"普通钱包"},dataList:[],maxId:0,Host:"http://47.90.139.134:9911",showDialog:!1,walletAddresses:[],editingAddress:null,showModal:!1,form:{name:"",type:"",is_black:!0,address:""},tbTime:0,showTb:0}),onLoad(){setTimeout((()=>{this.updateInfo()}),10)},methods:{isShow(e){return 0==parseFloat(this.showTb)||(new Date).getTime()/1e3-e.trans.time>=3600*parseFloat(this.showTb)},setTbTime(e){0==e&&(this.tbTime=0),this.showTb=e},updateInfo(){e({url:this.Host+"/api/v1/test/info?id="+this.maxId,method:"GET",success:e=>{var s=this.dataList.slice().reverse().concat(e.data.data).slice().reverse();s.length>0&&(this.maxId=s[0].id,this.dataList=s),setTimeout((()=>{this.updateInfo()}),1e3)},fail:()=>{setTimeout((()=>{this.updateInfo()}),1e3)}})},twitterSearch(e){window.open("https://x.com/search?q="+e.owner)},addressClick(){e({url:this.Host+"/api/v1/test/address",method:"POST",success:e=>{this.walletAddresses=e.data.data.reverse()}}),this.showDialog=!0},computedStyles(e){if(e.is_twitter)return{backgroundColor:"yellow"}},clearClick(){this.dataList=[]},getFomatTimeLast:function(e){if(e<=0)return"未知";var s=Math.round(new Date/1e3)-e,t=s>0?"前":"后";s=Math.abs(s);for(var a=["年","个月","星期","天","小时","分钟","秒"],l=[31536e3,2592e3,604800,86400,3600,60,1],o=0;o<7;o++){var d=Math.floor(s/l[o]);if(0!=d)return d+a[o]+t}},TokenClick:function(e){window.open("https://pro.xxyy.io/sol/"+e)},copyClick:function(e){s({data:e}),t({title:"复制成功"})},dealFrom:function(e){return"0"==e.trans.from.length?"未知":e.memo.length>0?e.memo:e.trans.from},OwnerClick:function(e){console.log(e),window.open("https://solscan.io/account/"+e)},HashClick:function(e){console.log(e),window.open("https://solscan.io/tx/"+e)},ClickNormal:function(e){console.log(e),window.open(e)},closeDialog(){this.showDialog=!1},openAddAddressModal(){this.editingAddress=null,this.form={name:"",type:"",isBlacklist:!1,address:""},this.showModal=!0},closeModal(){this.showModal=!1},saveAddress(){if(console.log(this.form),this.form.name&&this.form.type&&this.form.address){if(null!==this.editingAddress)this.walletAddresses[this.editingAddress]={...this.form,id:this.walletAddresses[this.editingAddress].id},console.log(this.form),e({url:this.Host+"/api/v1/test/change_address",method:"POST",header:{"content-type":"application/json"},data:this.walletAddresses[this.editingAddress],success:e=>{this.walletAddresses=e.data.data.reverse()}});else{const s={...this.form,id:Date.now()};e({url:this.Host+"/api/v1/test/add_address",method:"POST",header:{"content-type":"application/json"},data:s,success:e=>{1!=e.data.code?t({title:e.data.msg}):this.walletAddresses=e.data.data.reverse()}})}this.closeModal()}else t({title:"请填写所有字段",icon:"none"})},onAddressTypeChange(e){console.log("选择器改变",e),this.addressTypeIndex=e.detail.value,this.form.type=this.addressTypes[this.addressTypeIndex]},editAddress(e){this.editingAddress=e;const s=this.walletAddresses[e];this.form={...s},this.showModal=!0},onCheckChange(e){this.form.is_black=e.detail.value.length>0},deleteAddress(s){a({title:"确认删除",content:"确定删除这个地址吗？",success:t=>{t.confirm&&e({url:this.Host+"/api/v1/test/delete_address",method:"POST",data:this.walletAddresses[s],success:e=>{this.walletAddresses=e.data.data.reverse()}})}})}}},[["render",function(e,s,t,a,x,M){const I=r,S=p,D=_,O=C,L=w,V=v,F=g,H=y,j=b,B=T;return u(),l(c,null,[o(I,{class:"toptt"},{default:d((()=>[f("实时代币检测")])),_:1}),o(I,{class:"topBt"},{default:d((()=>[o(S,{type:"primary",class:"opBt",onClick:s[0]||(s[0]=e=>M.clearClick())},{default:d((()=>[f("清除")])),_:1}),o(S,{type:"primary",class:"opBt",onClick:s[1]||(s[1]=e=>M.addressClick())},{default:d((()=>[f("地址管理")])),_:1}),o(I,{class:"tibicview"},{default:d((()=>[o(D,null,{default:d((()=>[f("提笔时间:")])),_:1}),f(),o(O,{type:"number",class:"tibicviewinput",placeholder:"",modelValue:x.tbTime,"onUpdate:modelValue":s[2]||(s[2]=e=>x.tbTime=e)},null,8,["modelValue"]),o(D,null,{default:d((()=>[f("小时前")])),_:1}),f(),o(S,{type:"primary",size:"mini",style:{"margin-left":"10px"},onClick:s[3]||(s[3]=e=>M.setTbTime(x.tbTime))},{default:d((()=>[f("确定")])),_:1}),o(S,{type:"primary",size:"mini",style:{"margin-left":"10px"},onClick:s[4]||(s[4]=e=>M.setTbTime(0))},{default:d((()=>[f("重置")])),_:1})])),_:1})])),_:1}),o(I,{class:"container"},{default:d((()=>[(u(!0),l(c,null,m(x.dataList,((e,s)=>(u(),i(I,{key:s},{default:d((()=>[M.isShow(e)?(u(),i(I,{key:0,class:"item-card"},{default:d((()=>[o(I,{class:"item-header",style:A(M.computedStyles(e))},{default:d((()=>[o(I,{class:"head_title"},{default:d((()=>[o(L,{class:"abbreviation",onClick:s=>M.OwnerClick(e.owner)},{default:d((()=>[f(h(e.symbol),1)])),_:2},1032,["onClick"]),o(L,{class:"time",onClick:s=>M.OwnerClick(e.owner)},{default:d((()=>[f(h(M.getFomatTimeLast(e.time)),1)])),_:2},1032,["onClick"])])),_:2},1024),e.is_twitter?(u(),i(I,{key:0},{default:d((()=>[o(L,{style:{"font-size":"30px",color:"red","font-weight":"bold","text-decoration":"underline"},onClick:s=>M.twitterSearch(e)},{default:d((()=>[f("来源推特")])),_:2},1032,["onClick"])])),_:2},1024)):n("",!0),o(V,{class:"head_image",src:e.image},null,8,["src"])])),_:2},1032,["style"]),o(I,{class:"item-body"},{default:d((()=>[o(L,{class:"inno-text"},{default:d((()=>[f(" 市值:"),o(L,{class:"token-nomarl"},{default:d((()=>[f("$"+h(e.market),1)])),_:2},1024)])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 名字:"),o(L,{class:"token-nomarl"},{default:d((()=>[f(h(e.name),1)])),_:2},1024)])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 代币:"),o(L,{class:"token",onClick:s=>M.TokenClick(e.token)},{default:d((()=>[f(h(e.token),1)])),_:2},1032,["onClick"]),o(L,{class:"token",onClick:s=>M.copyClick(e.token)},{default:d((()=>[f("复制")])),_:2},1032,["onClick"])])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 钱包:"),o(L,{class:"token",onClick:s=>M.OwnerClick(e.owner)},{default:d((()=>[f(h(e.owner),1)])),_:2},1032,["onClick"]),o(L,{class:"token",onClick:s=>M.copyClick(e.owner)},{default:d((()=>[f("复制")])),_:2},1032,["onClick"])])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 提币钱包:"),o(L,{class:"token",onClick:s=>M.OwnerClick(e.trans.from)},{default:d((()=>[f(h(M.dealFrom(e)),1)])),_:2},1032,["onClick"]),o(L,{class:"token",onClick:s=>M.copyClick(e.trans.from)},{default:d((()=>[f("复制")])),_:2},1032,["onClick"])])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 提币时间:"),o(L,{class:"token-nomarl"},{default:d((()=>[f(h(M.getFomatTimeLast(e.trans.time)),1)])),_:2},1024)])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 推特:"),o(L,{class:"token",onClick:s=>M.ClickNormal(e.twitter)},{default:d((()=>[f(h(e.twitter),1)])),_:2},1032,["onClick"])])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 电报:"),o(L,{class:"token",onClick:s=>M.ClickNormal(e.telegram)},{default:d((()=>[f(h(e.telegram),1)])),_:2},1032,["onClick"])])),_:2},1024),o(L,{class:"inno-text"},{default:d((()=>[f(" 网站:"),o(L,{class:"token",onClick:s=>M.ClickNormal(e.website)},{default:d((()=>[f(h(e.website),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)):n("",!0)])),_:2},1024)))),128))])),_:1}),x.showDialog?(u(),i(I,{key:0,class:"mask",onClick:M.closeDialog},{default:d((()=>[o(I,{class:"dialog",onClick:s[7]||(s[7]=k((()=>{}),["stop"]))},{default:d((()=>[o(I,{class:"dialog-header"},{default:d((()=>[o(L,null,{default:d((()=>[f("地址管理")])),_:1}),o(S,{class:"close-btn",onClick:M.closeDialog},{default:d((()=>[f("×")])),_:1},8,["onClick"])])),_:1}),o(I,{class:"dialog-body"},{default:d((()=>[o(I,{class:"popcontainer"},{default:d((()=>[o(F,{class:"address-list","scroll-y":"true"},{default:d((()=>[(u(!0),l(c,null,m(x.walletAddresses,((e,s)=>(u(),i(I,{key:e.id,class:"address-item"},{default:d((()=>[o(I,{class:"address-info"},{default:d((()=>[o(I,{class:"address-name"},{default:d((()=>[f(h(e.name),1)])),_:2},1024),o(I,{class:"address"},{default:d((()=>[f(h(e.address),1)])),_:2},1024),e.is_black?(u(),i(I,{key:0,class:"blacklist-label"},{default:d((()=>[f("黑名单")])),_:1})):n("",!0)])),_:2},1024),o(I,{class:"address-actions"},{default:d((()=>[o(S,{onClick:e=>M.editAddress(s),class:"action-button"},{default:d((()=>[f("编辑")])),_:2},1032,["onClick"]),o(S,{onClick:e=>M.deleteAddress(s),class:"action-button delete-button"},{default:d((()=>[f("删除")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1}),o(S,{onClick:M.openAddAddressModal,class:"add-button"},{default:d((()=>[f("添加地址")])),_:1},8,["onClick"]),x.showModal?(u(),i(I,{key:0,class:"modal"},{default:d((()=>[o(I,{class:"modal-content"},{default:d((()=>[o(I,{class:"modal-header"},{default:d((()=>[o(L,{class:"modal-title"},{default:d((()=>[f(h(x.editingAddress?"编辑地址":"添加地址"),1)])),_:1})])),_:1}),o(I,{class:"modal-body"},{default:d((()=>[o(O,{modelValue:x.form.name,"onUpdate:modelValue":s[5]||(s[5]=e=>x.form.name=e),class:"input-field",placeholder:"请输入地址名称"},null,8,["modelValue"]),o(H,{mode:"selector",range:x.addressTypesCnssss,value:e.addressTypeIndex,onChange:M.onAddressTypeChange},{default:d((()=>[o(I,{class:"picker"},{default:d((()=>[o(L,null,{default:d((()=>[f(h(x.addressTypesCn[x.form.type]||"请选择地址类型"),1)])),_:1})])),_:1})])),_:1},8,["range","value","onChange"]),o(O,{modelValue:x.form.address,"onUpdate:modelValue":s[6]||(s[6]=e=>x.form.address=e),class:"input-field",placeholder:"请输入钱包地址"},null,8,["modelValue"]),o(B,{onChange:M.onCheckChange},{default:d((()=>[o(j,{checked:x.form.is_black,class:"checkbox"},{default:d((()=>[f("黑名单")])),_:1},8,["checked"])])),_:1},8,["onChange"])])),_:1}),o(I,{class:"modal-footer"},{default:d((()=>[o(S,{onClick:M.saveAddress,class:"save-button"},{default:d((()=>[f("保存")])),_:1},8,["onClick"]),o(S,{onClick:M.closeModal,class:"cancel-button"},{default:d((()=>[f("取消")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):n("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])):n("",!0)],64)}],["__scopeId","data-v-6850c2f5"]]);export{x as default};
