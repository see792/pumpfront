import{g as e,s as t,a as l,b as o,r as a,h as p,c as s,w as n,i as r,o as i,d as _,e as c,f as u,j as d,F as g,t as m,k as f,l as b,I as h}from"./index-C9SHJZR3.js";const y=((e,t)=>{const l=e.__vccOpts||e;for(const[o,a]of t)l[o]=a;return l})({data:()=>({logText:"等待交易中",Host:"http://67.213.119.5:10911",botConfig:{pair:"",private_key:"",count:0,buy_slippage:50,sell_slippage:50,mini_dev_sell_percent:0,with_dev_sell_percent:0,ray_open_percent:0,stop_earn_group:[],stop_loss_group:[]},fields:{pair:{label:"代币",model:"pair",type:"text",placeholder:"输入代币名称"},privateKey:{label:"私钥",model:"private_key",type:"text",placeholder:"输入私钥"},count:{label:"购买数量(SOL)",model:"count",type:"number",placeholder:"输入购买数量(SOL)"},buySlippage:{label:"买入滑点百分比",model:"buy_slippage",type:"number",placeholder:"输入买入滑点百分比"},sellSlippage:{label:"卖出滑点百分比",model:"sell_slippage",type:"number",placeholder:"输入卖出滑点百分比"},miniDevSellPercent:{label:"DEV卖出百分比",model:"mini_dev_sell_percent",type:"number",placeholder:"输入DEV卖出百分比"},withDevSellPercent:{label:"跟随DEV卖出百分比",model:"with_dev_sell_percent",type:"number",placeholder:"输入跟随DEV卖出百分比"},rayOpenPercent:{label:"Raydium开盘卖出百分比",model:"ray_open_percent",type:"number",placeholder:"输入跟随DEV卖出百分比"}}}),onLoad(){var t=e("bot");t.length>0&&(this.botConfig=JSON.parse(t))},methods:{addStopEarn(){this.botConfig.stop_earn_group.push({price_percent:"",amount_percent:""})},removeStopEarn(e){this.botConfig.stop_earn_group.splice(e,1)},addStopLoss(){this.botConfig.stop_loss_group.push({price_percent:"",amount_percent:""})},removeStopLoss(e){this.botConfig.stop_loss_group.splice(e,1)},submitConfig(){var e=JSON.parse(JSON.stringify(this.botConfig));if(e.pair.length<40)t({title:"代币不合法"});else if(e.private_key.length<=44)t({title:"私钥不合法"});else if(0==(e.count+"").length||e.count<=0)t({title:"请输入购买数量"});else if(e.count=parseFloat(e.count),0==(e.buy_slippage+"").length||e.buy_slippage>=100||e.buy_slippage<0)t({title:"买入滑点必须0-100"});else if(e.buy_slippage=parseFloat(e.buy_slippage)/parseFloat(100),0==(e.sell_slippage+"").length||e.sell_slippage>=100||e.sell_slippage<0)t({title:"卖出滑点必须0-100"});else if(e.sell_slippage=parseFloat(e.sell_slippage)/parseFloat(100),0==(e.mini_dev_sell_percent+"").length||e.mini_dev_sell_percent>100||e.mini_dev_sell_percent<0)t({title:"DEV卖出比例必须0-100"});else if(e.mini_dev_sell_percent=parseFloat(e.mini_dev_sell_percent)/parseFloat(100),0==(e.with_dev_sell_percent+"").length||e.with_dev_sell_percent>100||e.with_dev_sell_percent<0)t({title:"跟随DEV卖出比例必须0-100"});else if(e.with_dev_sell_percent=parseFloat(e.with_dev_sell_percent)/parseFloat(100),0==(e.ray_open_percent+"").length||e.ray_open_percent>100||e.ray_open_percent<0)t({title:"Raydium开盘卖出比例必须0-100"});else{for(var o in e.ray_open_percent=parseFloat(e.ray_open_percent)/parseFloat(100),this.botConfig.stop_earn_group){if(0==(this.botConfig.stop_earn_group[o].price_percent+"").length)return void t({title:"涨幅百分比不能为空"});if(this.botConfig.stop_earn_group[o].price_percent<=0)return void t({title:"涨幅百分比必须大于0"});if(this.botConfig.stop_earn_group[o].amount_percent<=0)return void t({title:"止盈卖出比例必须0-100"});e.stop_earn_group[o].amount_percent=parseFloat(e.stop_earn_group[o].amount_percent)/parseFloat(100),e.stop_earn_group[o].price_percent=parseFloat(e.stop_earn_group[o].price_percent)/parseFloat(100)}for(var o in this.botConfig.stop_loss_group){if(0==(this.botConfig.stop_loss_group[o].price_percent+"").length)return void t({title:"跌幅百分比不能为空"});if(this.botConfig.stop_loss_group[o].price_percent<=0)return void t({title:"跌幅百分比必须大于0"});if(this.botConfig.stop_loss_group[o].amount_percent<=0)return void t({title:"止损卖出比例必须0-100"});e.stop_loss_group[o].amount_percent=parseFloat(e.stop_loss_group[o].amount_percent)/parseFloat(100),e.stop_loss_group[o].price_percent=parseFloat(e.stop_loss_group[o].price_percent)/parseFloat(100)}this.buyOp(e);var a=JSON.parse(JSON.stringify(this.botConfig));a.private_key="",l("bot",JSON.stringify(a))}},appendLog(e){this.logText=this.logText+"\n"+e},buyOp(e){var l=this;o({title:"购买中",mask:!0}),a({url:this.Host+"/api/v1/test/buy",method:"POST",data:e,header:{"content-type":"application/json"},success:o=>1==o.data.code?(t({title:"购买成功"}),void l.appendLog("购买"+e.pair+"\n交易:"+o.data.data+"\n数量:"+e.count+"SOL")):void t({title:o.data.msg}),fail:()=>{t({title:"购买失败"})},complete(){p()}})}}},[["render",function(e,t,l,o,a,p){const y=r,v=f,C=h,V=b;return i(),s(y,{class:"page-root"},{default:n((()=>[_(y,{class:"main-content"},{default:n((()=>[_(y,{class:"container"},{default:n((()=>[_(y,{class:"card"},{default:n((()=>[_(y,{class:"title"},{default:n((()=>[c("交易机器人")])),_:1}),_(y,{class:"form-grid"},{default:n((()=>[(i(!0),u(g,null,d(a.fields,((e,t)=>(i(),s(y,{class:"form-group",key:t},{default:n((()=>[_(v,{class:"input-label"},{default:n((()=>[c(m(e.label)+"：",1)])),_:2},1024),_(C,{type:e.type,modelValue:a.botConfig[e.model],"onUpdate:modelValue":t=>a.botConfig[e.model]=t,placeholder:e.placeholder,class:"z-input"},null,8,["type","modelValue","onUpdate:modelValue","placeholder"])])),_:2},1024)))),128))])),_:1}),_(y,{class:"form-section"},{default:n((()=>[_(v,{class:"section-title"},{default:n((()=>[c("止盈 & 止损 设置：")])),_:1}),_(y,{class:"stop-container"},{default:n((()=>[_(y,{class:"stop-column"},{default:n((()=>[_(V,{class:"btn",onClick:p.addStopEarn},{default:n((()=>[c("添加止盈")])),_:1},8,["onClick"]),(i(!0),u(g,null,d(a.botConfig.stop_earn_group,((e,t)=>(i(),s(y,{class:"stop-group",key:t},{default:n((()=>[_(C,{type:"number",modelValue:e.price_percent,"onUpdate:modelValue":t=>e.price_percent=t,placeholder:"涨幅百分比",class:"z-input"},null,8,["modelValue","onUpdate:modelValue"]),_(C,{type:"number",modelValue:e.amount_percent,"onUpdate:modelValue":t=>e.amount_percent=t,placeholder:"卖出百分比",class:"z-input"},null,8,["modelValue","onUpdate:modelValue"]),_(V,{class:"btn-remove",onClick:e=>p.removeStopEarn(t)},{default:n((()=>[c("删除")])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),_(y,{class:"stop-column"},{default:n((()=>[_(V,{class:"btn",onClick:p.addStopLoss},{default:n((()=>[c("添加止损")])),_:1},8,["onClick"]),(i(!0),u(g,null,d(a.botConfig.stop_loss_group,((e,t)=>(i(),s(y,{class:"stop-group",key:t},{default:n((()=>[_(C,{type:"number",modelValue:e.price_percent,"onUpdate:modelValue":t=>e.price_percent=t,placeholder:"跌幅百分比",class:"z-input"},null,8,["modelValue","onUpdate:modelValue"]),_(C,{type:"number",modelValue:e.amount_percent,"onUpdate:modelValue":t=>e.amount_percent=t,placeholder:"卖出百分比",class:"z-input"},null,8,["modelValue","onUpdate:modelValue"]),_(V,{class:"btn-remove",onClick:e=>p.removeStopLoss(t)},{default:n((()=>[c("删除")])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),_(V,{class:"btn btn-submit",onClick:p.submitConfig},{default:n((()=>[c("开始购买")])),_:1},8,["onClick"])])),_:1})])),_:1}),_(y,{class:"log-container"},{default:n((()=>[_(y,{class:"title"},{default:n((()=>[c("日志")])),_:1}),_(v,{class:"log-content"},{default:n((()=>[c(m(a.logText),1)])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-4f355a14"]]);export{y as default};
